// Gantt chart

@import "./common/Color.styl"

.gantt_hdr {
  position absolute
  top 0
  height 16px
  border-top 1px solid color_gray_light_a
  border-bottom 1px solid color_gray_light_a
  border-right 1px solid color_gray_light_a
  text-align center
  overflow hidden
  font-size .8em

  &.nwday {
    background-color color_gray_light_b
  }
}

.gantt_subjects {
  font-size .8em

  div {
    line-height 16px
    height 16px
    overflow hidden
    white-space nowrap
    text-overflow ellipsis
  }
}

.task {
  position absolute
  height 8px
  font-size .8em
  color color_gray_dark
  padding 0
  margin 0
  line-height 16px
  white-space nowrap

  &.label {
    width 100%

    &.project, &.version {
      font-weight bold
    }
  }
}


.task_late {
  background-color color_red
  border 1px solid color_red
}

.task_done {
  background-color color_green
  border 1px solid color_green
}

.task_todo {
  background-color color_gray_light_a
  border 1px solid color_gray_light_a

  &.parent {
    height 3px
    border 1px solid color_gray
    background color_gray
  }
}

.task_late.parent, .task_done.parent {
  height 3px
}

.task.parent.marker {
  &.starting  {
    position absolute
    left 0
    top -1px
    width 8px
    height 16px
    margin-left -4px
    background url(../images/task_parent_end.png) no-repeat 0 0
  }

  &.ending {
    position absolute
    right 0px
    top -1px
    width 8px
    height 16px
    margin-left -4px
    background url(../images/task_parent_end.png) no-repeat 0 0
  }
}

.version {
  &.task_late {
    background-color color_red
    border 1px solid color_red
    height 2px
    margin-top 3px
  }

  &.task_done {
    background-color color_green
    border 1px solid color_green
    height 2px
    margin-top 3px
  }

  &.task_todo {
    background-color color_white
    border 1px solid color_white
    height 2px
    margin-top 3px
  }

  &.marker {
    icon( icon_circle, color_blue )
    border 0
    margin-left -4px
    margin-top 1px
  }
}

.project {
  &.task_late {
    background-color color_red
    border 1px solid color_red
    height 2px
    margin-top 3px
  }

  &.task_done {
    background-color color_green
    border 1px solid color_green
    height 2px
    margin-top 3px
  }

  &.task_todo {
    background-color color_gray_light_a
    height 1px
    margin-top 6px
    margin-left 1px
  }

  &.marker:before {
    icon( icon_square, color_blue )
    margin-top 1px
    margin-left -4px
  }
}

.version-behind-schedule a, .issue-behind-schedule a {
  color color_orange
}

.version-overdue a, .issue-overdue a, .project-overdue a {
  color color_red
}
