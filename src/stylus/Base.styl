// Base

@import "./common/IconFonts.styl"
@import "./common/Color.styl"

html {
  overflow-y scroll
}

body {
  font-family "Helvetica Neue", Helvetica, Verdana, sans-serif
  background-color color_page_back
  color color_indigo
  margin 0
  padding 0
  min-width 900px
  letter-spacing .09em
}

h1, h2, h3, h4 {
  padding 0 0 .5em
  margin 0 0 .8em 0
  font-weight normal
}

h2, .wiki h1 {
  font-size 1.8em
}

h3, .wiki h2 {
  font-size 1.5em
}

h4, .wiki h3 {
  font-size 1.3em
}

pre, code {
  font-family monospace
}

// Links
a {
  text-decoration none
  color color_blue

  &:hover, &:active {
    color color_red
  }

  img {
    border 0
  }

  .issue.closed, .issue.closed:link, .issue.closed:visited {
    color color_gray
    text-decoration line-through
  }

  .project.closed, .project.closed:link, .project.closed:visited {
    color color_gray
  }

  .user.locked, .user.locked:link, .user.locked:visited {
    color color_gray
  }

  .collapsible:before {
    icon( icon_toggle_plus, color_gray )
  }

  .collapsible.collapsed {
    icon( icon_toggle_minus, color_gray )
  }

  #toggle-completed-versions {
    color color_gray
  }
}

input, select {
  font-size .8em
}

input[type="text"], input[type="password"] {
  border solid 1px color_gray_light_a
  border-radius .2em
  padding .3em
  color color_indigo
}

textarea {
  border solid 1px color_gray_light_a
  border-radius .2em
  padding .3em
  color color_indigo
  box-sizing border-box
  font-size .9em
}

// Submit button
input[type="submit"] {
  background-color color_page_back
  border solid 2px color_blue
  color color_blue
  padding .2em .5em
  border-radius .2em
  letter-spacing .09em

  &:hover {
    background-color color_blue
    color color_white
  }
}

// Flash & error messages
#errorExplanation, div.flash, .nodata, .warning, .conflict {
  padding 4px 4px 4px 30px
  margin-bottom 12px
  font-size 1.1em
  border 2px solid
}

div.flash {
  margin-top 8px
}

div.flash.error, #errorExplanation {
  background-color #ffe3e3
  border-color #dd0000
  color #880000

  &:before {
    icon( icon_error, color_red )
  }
}

div.flash.notice {
  background-color #dfffdf
  border-color #9fcf9f
  color #005f00

  &:before {
    icon( icon_check, color_green )
  }
}

div.flash.warning, .conflict {
  background-color #FFEBC1
  border-color #FDBF3B
  color #A6750C
  text-align left

  &:before {
    icon( icon_warning, color_yellow )
  }
}

.nodata, .warning {
  text-align center
  background-color #FFEBC1
  border-color #FDBF3B
  color #A6750C
}

#errorExplanation ul {
  font-size 0.9em
}

#errorExplanation h2, #errorExplanation p {
  display none
}

.conflict-details {
  font-size 80%
}

// Ajax indicator
#ajax-indicator {
  position absolute
  z-index 100
  opacity 0.5
  top 35%
  left 40%
  width 20%
  padding .6em
  border 1px solid #bbb
  font-weight bold
  text-align center

  // fixed not supported by IE
  background-color #eee

  span {
    background-position 0% 40%
    background-repeat no-repeat
    background-image url(../images/loading.gif)
    padding-left 26px
    vertical-align bottom
  }
}

html > body #ajax-indicator {
  position fixed
}

// Calendar
table.cal {
  border-collapse collapse
  width 100%
  margin 0px 0 6px 0
  border 1px solid #d7d7d7
  font-size .8em

  thead th {
    width 14%
    background-color color_gray_light_b
    padding 4px
    font-weight normal
  }

  thead th.week-number {
    width auto
  }

  tbody tr {
    height 100px
  }

  td {
    border 1px solid color_gray_light_a
    vertical-align top
    font-size 0.9em
  }

  td.week-number {
    background-color color_gray_light_b
    padding 4px
    border none
    font-size 1em
  }

  td p.day-num {
    font-size 1.1em
    text-align right
  }

  td.odd p.day-num {
    color color_gray
  }

  td.today {
    background color_yellow_light
  }

  td.today p.day-num {
    font-weight bold
  }

  .starting a:before {
    icon( icon_arrow_right, color_green )
  }

  .ending a:before {
    icon( icon_arrow_left, color_red )
  }

  .starting.ending a:before {
    icon( icon_circle, color_blue )
  }
}

p.cal.legend .starting:before {
  icon( icon_arrow_right, color_green )
}

p.cal.legend .ending:before {
  icon( icon_arrow_left, color_red )
}

p.cal.legend .starting.ending:before {
  icon( icon_circle, color_red )
}


p.cal.legend span {
  display block
}

// Tooltips
.tooltip {
  position relative
  z-index 24

  &:hover{
    z-index 25
    color #000
  }

  span.tip {
    display none
    text-align left
  }
}

div.tooltip:hover span.tip {
  display block
  position absolute
  top 12px
  left 24px
  width 270px
  border 1px solid #555
  background-color #fff
  padding 4px
  font-size 0.8em
  color #505050
}

img.ui-datepicker-trigger {
  cursor pointer
  vertical-align middle
  margin-left 4px
}

// Progress bar
table.progress {
  border-collapse collapse
  border-spacing 0
  empty-cells show
  text-align center
  float left
  margin 1px 6px 1px 0

  td {
    height 1em
  }

  td.closed {
    background #BAE0BA none repeat scroll 0%
  }

  td.done {
    background #D3EDD3 none repeat scroll 0%
  }

  td.todo {
    background #eee none repeat scroll 0%
  }
}

p.percent {
  font-size 80%
}

p.progress-info {
  clear left
  font-size 80%
  margin-top -4px
  color #777
}

#roadmap table.progress td {
  height 1.2em
}

// Diff
.diff_out {
  background #fcc

  span {
    background #faa
  }
}

.diff_in {
  background #cfc

  span {
    background #afa
  }
}

.text-diff {
  padding 1em
  background-color #f6f6f6
  color #505050
  border 1px solid #e4e4e4
}

// My page layout
.block-receiver {
  border 1px dashed #c0c0c0
  margin-bottom 20px
  padding 15px 0 15px 0
}

.mypage-box {
  margin 0 0 20px 0
  color #505050
  line-height 1.5em
}

.handle {
  cursor move
}

a.close-icon:before {
  icon( icon_close, color_gray )

  display block
  margin-top 3px
  overflow hidden
  width 12px
  height 12px
  cursor pointer
}

a.close-icon:hover {
  &:before {
    icon( icon_close, color_blue )
  }
}

// Media print specific styles
@media print {
  #top-menu, #header, #main-menu, #sidebar, #footer, .contextual, .other-formats {
    display none
  }

  #main {
    background #fff
  }

  #content {
    width 99%
    margin 0
    padding 0
    border 0
    background #fff
    overflow visible !important
  }

  #wiki_add_attachment {
    display none
  }

  .hide-when-print {
    display none
  }

  .autoscroll {
    overflow-x visible
  }
  
  table.list {
    margin-top .5em

    th, td {
      border 1px solid #aaa
    }
  }
}

// Accessibility specific styles
.hidden-for-sighted {
  position absolute
  left -10000px
  top auto
  width 1px
  height 1px
  overflow hidden
}

img.gravatar {
  padding 2px
  border solid 1px #d5d5d5
  background color_white
  vertical-align middle
}

div.issue img.gravatar {
  float left
  margin 0 6px 0 0
  padding 5px
}

div.issue table img.gravatar {
  height 14px
  width 14px
  padding 2px
  float left
  margin 0 .5em 0 0
}

h2 img.gravatar {
  margin -2px 4px -4px 0
}

h3 img.gravatar {
  margin -4px 4px -4px 0
}

h4 img.gravatar {
  margin -6px 4px -4px 0
}

td.username img.gravatar {
  margin 0 .5em 0 0
  vertical-align top
}

#activity dt img.gravatar {
  float left
  margin 0 1em 1em 0
}

// Used on 12px Gravatar img tags without the icon background
.icon-gravatar {
  float left
  margin-right 4px
}

#activity dt, .journal {
  clear left
}

.journal-link {
  float right
}

h2 img {
  vertical-align middle
}

.hascontextmenu {
  cursor context-menu
}

// Custom jQuery styles
.ui-datepicker-title select {
  width 70px !important
  margin-top -2px !important
  margin-right 4px !important
}

// 
.ui-dialog.modal .ui-widget-header {
  border: 0px;
  color: #3d454c;
  background: #fafafa;
  padding-top: 18px;
  padding-bottom: 18px;
  color: #3d454c;
  font-size: 24px;
  font-weight: normal;
  text-align: center;
  border-bottom: solid 1px #ced4d9;
  margin: -10px -10px 5px -10px;
  border-radius: 0px;
}

.ui-datepicker .ui-widget-header {
  background: #fff;
  border: 0px;
  border-bottom: solid 1px #ced4d9;
  border-radius: 0px;
  padding: 5px;
  margin: -1px;
}

.ui-widget-content {
  background: white;
}
.ui-widget-content select, .ui-widget-content input[type="text"],
.ui-datepicker .ui-datepicker-title select {
  font-size: 12px;
}

.ui-state-hover,
.ui-widget-content .ui-state-hover,
.ui-widget-header .ui-state-hover,
.ui-state-focus,
.ui-widget-content .ui-state-focus,
.ui-widget-header .ui-state-focus {
  background: #f2f4f5;
  color: #3d454c;
  border: 1px solid #f2f4f5;
  border-radius: 0px;
}

.ui-widget-header .ui-datepicker-title {
  color: #3d454c;
}

.ui-state-default, .ui-widget-content .ui-state-default, .ui-widget-header .ui-state-default {
  border: 1px solid #f2f4f5;
}

.ui-datepicker .ui-datepicker-buttonpane button {
  font-weight: normal;
}

.ui-state-highlight, .ui-widget-content .ui-state-highlight, .ui-widget-header .ui-state-highlight {
  background: #FFD5C9;
}

.ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active {
  background: #D2EEFF;
}

.ui-widget-header .ui-icon-circle-triangle-e {
  background: url(../images/next.png) no-repeat 0px 0px;
}

.ui-widget-header .ui-icon-circle-triangle-w {
  background: url(../images/prev.png) no-repeat 0px 0px;
}

.ui-datepicker .ui-datepicker-next {
  top: 5px;
  right: 10px;
}

.ui-datepicker .ui-datepicker-prev {
  top: 5px;
  left: 10px;
}

.ui-datepicker th {
  /*font-size: 13px;*/
  color: #aaa;
  font-weight: 500;
}

.ui-datepicker .ui-state-default {
  /*font-size: 13px;*/
  font-weight: 500;
  color: #333;
  border: 1px solid #fff;
  background: #fff;
}

.ui-datepicker .ui-state-default:hover {
  background: #f6f6f6;
}

.ui-datepicker .ui-state-active {
  background: #D2EEFF;
}

.ui-datepicker .ui-state-highlight {
  color: #ff3b30;
}

.ui-datepicker .ui-state-highlight:hover {
  background-color: #ffd8d6;
}

#ui-datepicker-div {
  padding: 10px;
}

.ui-datepicker .ui-datepicker-buttonpane {
  padding-top: 0.5em;
}

.ui-datepicker-week-col, .ui-datepicker .ui-priority-secondary {
  color: #aaa;
}

.ui-dialog .ui-dialog-titlebar-close {
  right: 1em;
  background: #fafafa;
  border: 0px;
}

.ui-widget-header .ui-icon.ui-icon-closethick {
  background: url(../images/close.png) no-repeat 0px 0px;
}

.ui-widget-header .ui-state-hover .ui-icon.ui-icon-closethick {
  background: url(../images/close_active.png);
}
